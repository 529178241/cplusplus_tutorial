# C++ 基础

但我在这里不打算介绍得特别详细，因为这里的每个知识点在网上都会有特别详尽的介绍，大家可以心情白嫖，我来指导大家需要白嫖一些什么东西，将知识点连成线，最后化成自己的知识网络。

## 生成过程

* 预处理
* 编译
* 链接

目前为止，我们还没有写任何代码，但是在此之前我们可以先了解一下一个应用程序生成的过程。

整体的编译过程是以*.cpp *.cxx *.c 这样的源文件为单位编译，然后将所有的编译结果链接起来最终生成可执行文件。

而编译过程可简单分为两部分

* 预处理
* 实际编译

### 预处理

预处理是代码处理的第一阶段，我们写好的代码需要需经过这一步骤处理，才能再进行编译，这个阶段主要是处理宏。

举例：

sample.h

```cpp
struct Sample {
    int value;
}
```

sample.cpp

```cpp
#include "sample.h"

Sample sample;
```

以源文件为单位，即我们针对`sample.cpp`处理。处理之后生成
```cpp
struct Sample {
    int value;
}
Sample sample;
```

再对这段代码进行语法分析，编译生成二进制文件。

### 编译

即以源码作为输入生成二进制文件（object file）的过程。

### 链接

假设我们工程如下

```cpp
\ project
   \ main.cpp
   \ sample.h
   \ sample.cpp
```

那么编译单元为 `main.cpp` ， `sample.cpp`，即我们执行两次编译过程。分别生成`main.o` `sample.o`，链接过程将它们合为一体，生成可执行文件，这就是所谓的链接过程。

## 基本语法

### 类型

* 内置类型
  * int
  * float
  * char
  * 等等

* 自定义类型
  * 自己定义结构数据

### 变量

```cpp
int a = 0;
```

`a` 就是一个变量，

### 函数（方法）

函数是什么，函数有什么作用？

函数示例，这是一个求阶乘的例子，它并不复杂

```cpp
uint32_t factorial( uint32_t _value ) {
    uint32_t v = _value;
    while( value != 0 ) {
        v *= _value;
        --value;
    }
    return v;
}
```

函数的基本功能：

* 输入
* 输出

函数用打比方的形式可以这么理解，就像一个绞肉机，你给他肉块（输入），他给你生产肉酱（输出），函数一般都有这种输入，输出的性质，不管是什么形式，一定要有数据源（输入），生成结果（输出），也许有时候这种输入输出不会在参数里体现出来，但是一定会有，如果没有，那么这个函数就是没有意义的。

以上是基本概念，知道了这些，我们基本上就可以看懂一个简单的`HelloWorld`程序了。

## HelloWorld

我们来看一个最最简单的程序

```cpp
#include <cstdio>
int main( int _argc, const char** _argv ) {
    printf("Hello,Horld!");
    return 0;
}
```

`main` 函数是程序入口点，即程序打开就会执行的方法，如果这个函数执行完，那么程序也就结束了。

`_argc` `_argv` 是main函数的两个`输入`数据，`return 0` 代表程序最终返回0，即输出`0`,使用这个返回告诉调用main函数的系统运行时，是不是正常的退出（一般而言，返回0意味着正常退出）。

`printf("Hello,World!")`调用了 `<cstdio>` 这个库里的一个函数，这个函数可以传若干个参数，我们给它传了一个字符串`Hello,World!`，`printf()`这个函数的功能是在控制台里输出字符串内容。